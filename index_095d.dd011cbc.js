(function(_){var filename = ((function(){var _documentCurrentScript = typeof document !== "undefined" ? document.currentScript : null;return typeof document === "undefined" ? require("url").pathToFileURL(__filename).href : _documentCurrentScript && _documentCurrentScript.src || new URL("index_095d.js", document.baseURI).href})());for(var r in _){_[r].__farm_resource_pot__=filename;window['f1d71b9dd14324d7340d3311efaf8136'].__farm_module_system__.register(r,_[r])}})({"08e753fd":function c(c,f,d,a){c._m(f);var b=c.i(d("80c0fbdc")),e=d("80c0fbdc");c._e(f,e),f.default=c.f(b);},"47a20e72":function t(t,o,s,n){t._m(o),t.o(o,"OrbitController",()=>l);var e=s("09efd1d2"),r=s("1500a9c9");class l{enter(){this.controls.enabled=!0;}leave(){this.controls.enabled=!1;}update(t){this.controls.update();}dispose(){this.controls.dispose();}setTarget(t){this.controls.target.copy(t);}constructor(t,o){e._(this,"controls",void 0),this.controls=new r.OrbitControls(t,o),this.controls.enabled=!1,this.controls.enableDamping=!0,this.controls.dampingFactor=.08,this.controls.rotateSpeed=.35,this.controls.target.set(0,0,0),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.enablePan=!0;}}},"7cdc7ff0":function f(f,a,c,d){f._m(a);var e=f.i(c("f194c96a")),_=f.i(c("ddc00f4e")),i=c("f194c96a");f._e(a,i),a.default=f.f(_)(f.f(e),[["__scopeId","data-v-f7f46c31"]]);},"7d33ac30":function c(c,f,a,i){c._m(f);var n=c.i(a("89380c7c"));f.default=c.f(n);},"89380c7c":function e(e,a,n,t){e._m(a);var f=n("9aaf3498"),o=n("9aaf3498"),l=e.i(n("8eb479d3"));a.default=f.defineComponent({__name:"App",setup:a=>(a,n)=>(o.openBlock(),o.createBlock(o.Suspense,null,{default:o.withCtx(()=>[o.createVNode(e.f(l))]),_:1}))});},"8eb479d3":function c(c,d,e,a){c._m(d);var f=c.i(e("cca86db6")),_=c.i(e("ddc00f4e")),b=e("cca86db6");c._e(d,b),d.default=c.f(_)(c.f(f),[["__scopeId","data-v-2ebe611e"]]);},"93e7dcc4":function f(f,d,a,c){f._m(d);var e=f.i(a("ff9d919c")),_=f.i(a("ddc00f4e")),i=a("ff9d919c");f._e(d,i),d.default=f.f(_)(f.f(e),[["__scopeId","data-v-13d72a26"]]);},"953dfae2":function a(a,e,c,i){a._m(e);var n=c("9aaf3498"),p=c("0e70da6a"),t=a.i(c("7d33ac30")),f=n.createApp(a.f(t)),r=p.createPinia();f.use(r),f.mount("#app");},"99602713":function e(e,l,o,p){e._m(l),e.o(l,"ASSETS",()=>g);var g={models:{home:"models/home.glb",characterIdle:"models/Idle.fbx",characterWalk:"models/Walking.fbx"},textures:{skybox:["xp.jpg","xn.jpg","yp.jpg","yn.jpg","zp.jpg","zn.jpg"]}};},"b1f59e44":function e(e,a,t,r){e._m(a),t("2d08c2e5"),t("a3876e70");var d=t("9aaf3498"),n=t("9aaf3498"),c=t("1f6a8afd"),f=t("0e70da6a"),i=t("f247f526"),l=e.i(t("08e753fd")),o=e.i(t("f7c0ac52"));a.default=d.defineComponent({__name:"ControlPanel",setup(a){var t=i.useSceneStore(),r=f.storeToRefs(t).isDarkMode;return(a,t)=>(n.openBlock(),n.createBlock(n.unref(c.NCard),{class:"param-panel",bordered:!1,size:"small"},{header:n.withCtx(()=>[n.createVNode(n.unref(c.NSpace),{align:"center",justify:"space-between",style:{margin:"0",width:"100%"}},{default:n.withCtx(()=>[n.createVNode(n.unref(c.NText),{strong:""},{default:n.withCtx(()=>[...t[1]||(t[1]=[n.createTextVNode("æŽ§åˆ¶é¢æ¿",-1)])]),_:1}),n.createVNode(n.unref(c.NSwitch),{value:n.unref(r),"onUpdate:value":t[0]||(t[0]=e=>n.isRef(r)?r.value=e:null),size:"small"},{checked:n.withCtx(()=>[...t[2]||(t[2]=[n.createTextVNode("ðŸŒ™",-1)])]),unchecked:n.withCtx(()=>[...t[3]||(t[3]=[n.createTextVNode("â˜€ï¸",-1)])]),_:1},8,["value"])]),_:1})]),default:n.withCtx(()=>[n.createVNode(n.unref(c.NTabs),{type:"line",animated:""},{default:n.withCtx(()=>[n.createVNode(n.unref(c.NTabPane),{name:"params",tab:"åœºæ™¯è°ƒå‚"},{default:n.withCtx(()=>[n.createVNode(e.f(l))]),_:1}),n.createVNode(n.unref(c.NTabPane),{name:"hierarchy",tab:"æ¨¡åž‹å±‚çº§","display-directive":"show"},{default:n.withCtx(()=>[n.createVNode(e.f(o))]),_:1})]),_:1})]),_:1}));}});},"c2079dd8":function e(e,i,r,l){e._m(i),e.o(i,"ColliderManager",()=>d),e.o(i,"colliderManager",()=>c);var s=r("09efd1d2");r("40616381");var o=e.w(r("3b16918b")),t=e.w(r("ef066f7a")),a=e.i(r("26d7988f"));class d{generateCollider(i){this.dispose();var r=[];if(i.traverse(e=>{if(e.isMesh){for(var i=e.geometry.clone(),l=!1,s=e.parent;s;){if("Door"===s.name){l=!0;break;}s=s.parent;}if(!(l||e.name.endsWith("Glass"))){for(var o in i.applyMatrix4(e.matrixWorld),i.attributes)"position"!==o&&i.deleteAttribute(o);r.push(i);}}}),r.length>0){var l=t.mergeGeometries(r);l.computeBoundsTree(),this.collider=new o.Mesh(l,new o.MeshBasicMaterial({wireframe:!0,color:16711680})),this.collider.visible=!1,this.collider.name="collider",e.f(a).scene.add(this.collider),e.f(a).setEnvironmentCollider(this.collider);}}setVisibility(e){this.collider&&(this.collider.visible=e);}dispose(){this.collider&&(e.f(a).scene.remove(this.collider),this.collider.geometry.dispose(),Array.isArray(this.collider.material)?this.collider.material.forEach(e=>e.dispose()):this.collider.material.dispose(),this.collider=null);}constructor(){s._(this,"collider",null);}}var c=new d;},"d0f5b517":function f(f,e,a,d){f._m(e);var _=f.i(a("b1f59e44")),c=f.i(a("ddc00f4e")),i=a("b1f59e44");f._e(e,i),e.default=f.f(c)(f.f(_),[["__scopeId","data-v-e198f7aa"]]);},"ddc00f4e":function r(r,a,t,e){r._m(a);var n=t("493f9ad4");t("c550eeaa"),t("2d08c2e5"),t("a3876e70"),a.default=(r,a)=>{var t=r.__vccOpts||r,e=!0,l=!1,c=void 0;try{for(var f,o=a[Symbol.iterator]();!(e=(f=o.next()).done);e=!0){var u=n._(f.value,2),v=u[0],i=u[1];t[v]=i;}}catch(r){l=!0,c=r;}finally{try{e||null==o.return||o.return();}finally{if(l)throw c;}}return t;};},"e00be090":function e(e,d,o,r){e._m(d),e.o(d,"ModelLoader",()=>h);var a=o("09efd1d2");o("b25dd2f8");var t=o("ca576447"),s=o("4ecad5d1"),i=o("44079c7b"),L=o("fb22d209");class h{loadGLTF(e,d){return new Promise((o,r)=>{this.gltfLoader.load(e,e=>{o(e);},d,e=>{r(e);});});}loadFBX(e,d){return new Promise((o,r)=>{this.fbxLoader.load(e,e=>{o(e);},d,e=>{r(e);});});}dispose(){this.dracoLoader.dispose(),this.ktx2Loader.dispose();}constructor(e){a._(this,"gltfLoader",void 0),a._(this,"fbxLoader",void 0),a._(this,"dracoLoader",void 0),a._(this,"ktx2Loader",void 0),this.gltfLoader=new t.GLTFLoader,this.fbxLoader=new s.FBXLoader,this.dracoLoader=new i.DRACOLoader,this.dracoLoader.setDecoderPath("draco/"),this.dracoLoader.setDecoderConfig({type:"wasm"}),this.dracoLoader.preload(),this.gltfLoader.setDRACOLoader(this.dracoLoader),!1===e.initialized&&console.warn("ModelLoader çš„ KTX2Loader åˆå§‹åŒ–éœ€è¦åœ¨ renderer åˆå§‹åŒ–ä¹‹åŽè¿›è¡Œã€‚\n å¦‚æžœçœ‹åˆ°è¿™æ¡è­¦å‘Šï¼Œå¯èƒ½ ModelLoader å®žä¾‹åŒ–å¤ªæ—©äº†ã€‚"),this.ktx2Loader=new L.KTX2Loader,this.ktx2Loader.setTranscoderPath("basis/"),this.ktx2Loader.detectSupport(e),this.gltfLoader.setKTX2Loader(this.ktx2Loader);}}},"f194c96a":function e(e,a,t,o){e._m(a),t("2d08c2e5"),t("a3876e70");var n=t("9aaf3498"),r=t("9aaf3498"),i=t("1f6a8afd"),d={key:0,class:"loading-overlay"},l={class:"loading-content"};a.default=n.defineComponent({__name:"LoadingOverlay",props:{isLoading:{type:Boolean},progress:{}},setup:e=>(a,t)=>(r.openBlock(),r.createBlock(r.Transition,{name:"fade"},{default:r.withCtx(()=>[e.isLoading?(r.openBlock(),r.createElementBlock("div",d,[r.createElementVNode("div",l,[r.createVNode(r.unref(i.NSpin),{size:"large"}),r.createVNode(r.unref(i.NText),{class:"loading-text"},{default:r.withCtx(()=>[...t[0]||(t[0]=[r.createTextVNode("æ¨¡åž‹åŠ è½½ä¸­...",-1)])]),_:1}),r.createVNode(r.unref(i.NProgress),{type:"line",percentage:e.progress,"show-indicator":!0,height:8,"border-radius":4,"indicator-placement":"outside",style:{width:"280px","margin-top":"16px"}},null,8,["percentage"])])])):r.createCommentVNode("",!0)]),_:1}))});},"f4cd7510":function t(t,e,o,s){t._m(e),t.o(e,"InfiniteGrid",()=>r);var i=t.w(o("3b16918b")),a=o("16fd0772");class r extends i.Mesh{constructor(){var t=new i.PlaneGeometry(1,1),e=new i.MeshStandardNodeMaterial({side:i.DoubleSide}),o=a.Fn(()=>{var t=a.positionWorld.xz,e=a.positionWorld.distance(a.cameraPosition),o=a.smoothstep(1e3,200,e),s=a.float(10),i=a.float(100),r=t.div(s).fract().sub(.5).abs().mul(2),m=a.smoothstep(.95,1,r.x).max(a.smoothstep(.95,1,r.y)),n=t.div(i).fract().sub(.5).abs().mul(2),l=a.smoothstep(.98,1,n.x).max(a.smoothstep(.98,1,n.y)),d=a.vec3(.6),u=a.vec3(.2),h=a.mix(m.mul(.2),l.mul(.5),l);return a.mix(u,d,h.mul(o));});e.colorNode=o(),super(t,e),this.scale.set(4e3,4e3,1),this.rotation.x=-Math.PI/2,this.position.y=.05,this.frustumCulled=!1,this.receiveShadow=!0;}}},"f7c0ac52":function f(f,c,d,e){f._m(c);var a=f.i(d("08f7389c")),_=f.i(d("ddc00f4e")),i=d("08f7389c");f._e(c,i),c.default=f.f(_)(f.f(a),[["__scopeId","data-v-f2e15b22"]]);},});
//# sourceMappingURL=index_095d.dd011cbc.js.map